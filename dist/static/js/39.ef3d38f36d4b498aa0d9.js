webpackJsonp([39],{"00lU":function(t,e,a){(t.exports=a("BkJT")(!1)).push([t.i,"\n.dashboard-editor-container[data-v-59e57697] {\n  padding: 20px;\n  width: 100%;\n}\n.demo-table-expand[data-v-59e57697] {\n  font-size: 0;\n}\n.demo-table-expand label[data-v-59e57697] {\n  width: 90px;\n  color: #99a9bf;\n}\n.search_body[data-v-59e57697] {\n  border: 1px solid #B3C0D1;\n}\n.search_body .search_form[data-v-59e57697] {\n    margin-top: 30px;\n}\n.pagination-container[data-v-59e57697] {\n  text-align: center;\n}\n",""])},"3JCJ":function(t,e,a){var r=a("00lU");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a("8bSs")("1e3d9697",r,!0)},kY6E:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("oteo"),o=a("Odk1"),s=a("dVeB"),n={components:{addProject:r.default},data:function(){return{isVisible:!1,project:{},searchForm:{},title:"项目添加",projectList:[],total:0,listQuery:{projectName:"",projectStatus:"",time:Date.parse(new Date),pageIndex:1,pageSize:10}}},methods:{onCopy:function(t){this.$message({message:"复制成功！ 内容："+t.text,type:"success"})},onError:function(t){this.$message({message:"复制失败！",type:"error"})},copyNum:function(t){t.select()},run:function(t,e){t.projectStatus=1,this.updateProject(t)},maintain:function(t,e){t.projectStatus=2,this.updateProject(t)},stop:function(t,e){t.projectStatus=3,this.updateProject(t)},updateProject:function(t){var e=this;Object(o.g)(t).then(function(t){e.getProjectList()}).catch(function(t){408===t.status?e.$router.push("/408"):Object(s.Message)({message:t,type:"error",duration:3e3})})},closeDialog:function(){this.isVisible=!1,this.getProjectList()},edit:function(t){this.isVisible=!0,this.project=t,this.title="项目修改"},add:function(){this.project={},this.isVisible=!0,this.title="项目添加"},getProjectList:function(){var t=this;Object(o.e)(this.listQuery).then(function(e){t.projectList=e.dataObject.projectsList,t.total=e.dataObject.total}).catch(function(e){408===e.status?t.$router.push("/408"):Object(s.Message)({message:e,type:"error",duration:3e3})})},handleSizeChange:function(t){this.listQuery.pageSize=t,this.getProjectList()},handleCurrentChange:function(t){this.listQuery.pageIndex=t,this.getProjectList()}},mounted:function(){this.getProjectList()}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-editor-container"},[a("el-container",[a("el-header",{staticClass:"search_body",staticStyle:{height:"100px"}},[a("div",{staticClass:"search_form"},[a("el-form",{ref:"form",attrs:{model:t.searchForm,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"项目名称"}},[a("el-input",{attrs:{placeholder:""},model:{value:t.searchForm.name,callback:function(e){t.$set(t.searchForm,"name",e)},expression:"searchForm.name"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6,offset:1}},[a("el-form-item",{attrs:{label:"开始时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.searchForm.startDate,callback:function(e){t.$set(t.searchForm,"startDate",e)},expression:"searchForm.startDate"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"结束时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.searchForm.endDate,callback:function(e){t.$set(t.searchForm,"endDate",e)},expression:"searchForm.endDate"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:2}},[a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small",round:"",icon:"el-icon-plus"},on:{click:t.add}},[t._v("添加项目")])],1)],1)],1)],1)]),t._v(" "),a("el-main",[a("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:t.projectList}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"项目编码"}},[a("span",[t._v(t._s(e.row.projectNum))]),t._v(" "),a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.row.projectNum,expression:"props.row.projectNum",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],attrs:{icon:"el-icon-tickets",size:"mini",title:"复制",type:"text"}},[t._v("复制")])],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"项目名称"}},[a("span",[t._v(t._s(e.row.projectName))])])],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"项目地址"}},[a("span",[t._v(t._s(e.row.projectLink))])])],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"项目状态"}},[1===e.row.projectStatus?a("span",[a("el-tag",{attrs:{type:"success"}},[t._v("运行中")])],1):2===e.row.projectStatus?a("span",[a("el-tag",{attrs:{type:"danger"}},[t._v("维护中")])],1):a("span",[a("el-tag",{attrs:{type:"warning"}},[t._v("已停用")])],1)])],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目描述"}},[a("span",[t._v(t._s(e.row.projectDescription))])])],1)],1)],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"projectNum",align:"center",label:"项目编码",width:"330"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.projectNum))]),t._v(" "),a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.row.projectNum,expression:"scope.row.projectNum",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],attrs:{icon:"el-icon-tickets",size:"mini",title:"复制",type:"text"}},[t._v("复制")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"projectName",align:"center",label:"项目名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"projectLink",align:"center",label:"项目链接"}}),t._v(" "),a("el-table-column",{attrs:{prop:"projectStatus",align:"center",label:"项目状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.projectStatus?a("span",[a("el-tag",{attrs:{type:"success"}},[t._v("运行中")])],1):2===e.row.projectStatus?a("span",[a("el-tag",{attrs:{type:"danger"}},[t._v("维护中")])],1):a("span",[a("el-tag",{attrs:{type:"warning"}},[t._v("已停用")])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"createDate",align:"center",label:"创建时间",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-date"}),t._v(" "),a("span",[t._v(t._s(e.row.createDate))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[2===e.row.projectStatus||3===e.row.projectStatus?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.run(e.row,e.$index)}}},[t._v("运行")]):t._e(),t._v(" "),1===e.row.projectStatus?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.maintain(e.row,e.$index)}}},[t._v("维护")]):t._e(),t._v(" "),1===e.row.projectStatus||2===e.row.projectStatus?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.stop(e.row,e.$index)}}},[t._v("停用")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.edit(e.row)}}},[t._v("修改")])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{background:"","current-page":t.listQuery.page,"page-sizes":[10,20,30,50],"page-size":t.listQuery.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.$set(t.listQuery,"page",e)}}})],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{title:t.title,visible:t.isVisible,"close-on-click-modal":!1,top:"10vh",width:"50%"},on:{"update:visible":function(e){t.isVisible=e}}},[t.isVisible?a("add-Project",{attrs:{project:t.project},on:{close:function(e){t.closeDialog()}}}):t._e()],1)],1)},staticRenderFns:[]};var l=a("/Xao")(n,i,!1,function(t){a("3JCJ")},"data-v-59e57697",null);e.default=l.exports}});