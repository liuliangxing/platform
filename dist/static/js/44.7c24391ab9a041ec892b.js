webpackJsonp([44],{"4XLv":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("4YfN"),s=i.n(a),r=i("9rMa"),o=i("dVeB"),n=i("L870"),u={props:{authorities:{type:Object,default:{}}},data:function(){var e=this;return{temp:"",menuList:[],rules:{authoritiesName:[{required:!0,message:"请输入英文名称",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20个字符",trigger:"blur"}],menuNotes:[{required:!0,message:"请输入显示标题",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20个字符",trigger:"blur"}],menuPath:[{validator:function(t,i,a){3===e.authorities.type?a():""===i&&a(new Error("请输入菜单目录")),a()},trigger:"blur"}]}}},computed:s()({},Object(r.b)(["id"])),created:function(){},watch:{authorities:function(e,t){console.info(e)}},methods:{getAuthoritiesByType:function(e){var t=this;Object(n.c)(e).then(function(e){t.menuList=e.dataObject.result,t.menuList.length?t.authorities.parentId=t.menuList[0].id:t.authorities.parentId=-1,console.info(t.authorities.parentId)}).catch(function(e){t.$emit("close"),408===e.status?t.$router.push("/408"):Object(o.Message)({message:e,type:"error",duration:3e3})})},changeType:function(e){this.getAuthoritiesByType(this.authorities.type)},changeSelect:function(e){console.info(e),this.authorities.parentId=-1,console.info(this.authorities)},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){e&&(t.authorities.id?Object(n.g)(t.authorities).then(function(e){Object(o.Message)({message:"菜单修改成功~",type:"success",duration:3e3}),t.$emit("close")}).catch(function(e){t.$emit("close"),408===e.status?t.$router.push("/408"):Object(o.Message)({message:e,type:"error",duration:3e3})}):Object(n.f)(t.authorities).then(function(e){Object(o.Message)({message:"菜单添加成功~",type:"success",duration:3e3}),t.$emit("close")}).catch(function(e){t.$emit("close"),408===e.status?t.$router.push("/408"):Object(o.Message)({message:e,type:"error",duration:3e3})}))})}},mounted:function(){this.getAuthoritiesByType(this.authorities.type)}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dashboard-editor-container"},[i("el-form",{ref:"authoritiesForm",staticClass:"demo-ruleForm",attrs:{model:e.authorities,rules:e.rules,"label-position":"left","label-width":"80px"}},[i("el-form-item",{attrs:{label:"显示标题",prop:"menuNotes"}},[i("el-input",{model:{value:e.authorities.menuNotes,callback:function(t){e.$set(e.authorities,"menuNotes",t)},expression:"authorities.menuNotes"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"英文名称",prop:"authoritiesName"}},[i("el-input",{model:{value:e.authorities.authoritiesName,callback:function(t){e.$set(e.authorities,"authoritiesName",t)},expression:"authorities.authoritiesName"}})],1),e._v(" "),3!==e.authorities.type?i("el-form-item",{attrs:{label:"路径",prop:"menuPath"}},[i("el-input",{model:{value:e.authorities.menuPath,callback:function(t){e.$set(e.authorities,"menuPath",t)},expression:"authorities.menuPath"}})],1):e._e(),e._v(" "),-1===e.authorities.parentId&&3!==e.authorities.type?i("el-form-item",{attrs:{label:"图标",prop:"iconName"}},[i("el-input",{model:{value:e.authorities.iconName,callback:function(t){e.$set(e.authorities,"iconName",t)},expression:"authorities.iconName"}})],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"菜单类型",prop:"type"}},[i("el-radio-group",{attrs:{disabled:0!==e.authorities.id},on:{change:e.changeType},model:{value:e.authorities.type,callback:function(t){e.$set(e.authorities,"type",t)},expression:"authorities.type"}},[i("el-radio",{attrs:{label:1}},[e._v("菜单权限")]),e._v(" "),i("el-radio",{attrs:{label:2}},[e._v("页面权限")]),e._v(" "),i("el-radio",{attrs:{label:3}},[e._v("操作权限")])],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"上级菜单"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"选择上级菜单",disabled:0!==e.authorities.id},on:{change:e.changeSelect},model:{value:e.authorities.parentId,callback:function(t){e.$set(e.authorities,"parentId",t)},expression:"authorities.parentId"}},e._l(e.menuList,function(e){return i("el-option",{key:e.id,attrs:{label:e.menuNotes,value:e.id}})}))],1),e._v(" "),i("el-form-item",[i("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(t){e.submitForm("authoritiesForm")}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]};var c=i("/Xao")(u,l,!1,function(e){i("Ctte")},"data-v-104cc804",null);t.default=c.exports},Ctte:function(e,t,i){var a=i("CxqN");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("8bSs")("1bdef36a",a,!0)},CxqN:function(e,t,i){(e.exports=i("BkJT")(!1)).push([e.i,"\n.dashboard-editor-container[data-v-104cc804] {\n  padding: 20px;\n  width: 100%;\n}\n",""])}});