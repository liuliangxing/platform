webpackJsonp([45],{QH4P:function(e,t,r){(e.exports=r("BkJT")(!1)).push([e.i,"\n.dashboard-editor-container[data-v-06020904] {\n  padding: 20px;\n  width: 100%;\n}\n",""])},X44a:function(e,t,r){var i=r("QH4P");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);r("8bSs")("99fd8bba",i,!0)},aP46:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("dVeB"),o=r("Odk1"),a=r("viA7"),s={props:{article:{type:Object,default:{}}},data:function(){return{projectsList:[],articleForm:{id:"",title:"",projectId:0,content:"",version:"",author:""},rules:{title:[{required:!0,message:"请输入公告标题",trigger:"blur"},{min:3,max:50,message:"长度在 3 到 50个字符",trigger:"blur"}],content:[{required:!0,message:"请填写公告内容",trigger:"blur"},{min:3,max:5e3,message:"长度在 3 到 5000个字符",trigger:"blur"}],projectId:[{required:!0,message:"请选择项目",trigger:"change"}],version:[{required:!0,message:"请输入版本号",trigger:"blur"},{min:3,max:50,message:"长度在 3 到 50个字符",trigger:"blur"}],author:[{required:!0,message:"请输入作者",trigger:"blur"},{min:3,max:50,message:"长度在 3 到 50个字符",trigger:"blur"}]}}},created:function(){this.articleForm=this.article},watch:{article:function(){this.articleForm=this.article}},methods:{closeDialog:function(e){this.$emit("close")},getProjectListAll:function(){var e=this;Object(o.d)().then(function(t){e.projectsList=t.dataObject.projectsList}).catch(function(t){408===t.status?e.$router.push("/408"):Object(i.Message)({message:t,type:"error",duration:3e3})})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){e&&(t.articleForm.id?Object(a.d)(t.articleForm).then(function(e){Object(i.Message)({message:"公告修改成功~",type:"success",duration:3e3}),t.$emit("close")}).catch(function(e){t.$emit("close"),408===e.status?t.$router.push("/408"):Object(i.Message)({message:e,type:"error",duration:3e3})}):Object(a.c)(t.articleForm).then(function(e){Object(i.Message)({message:"公告添加成功~",type:"success",duration:3e3}),t.$emit("close")}).catch(function(e){t.$emit("close"),408===e.status?t.$router.push("/408"):Object(i.Message)({message:e,type:"error",duration:3e3})}))})}},mounted:function(){this.getProjectListAll()}},c={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"dashboard-editor-container"},[r("el-form",{ref:"articleForm",staticClass:"demo-articleForm",attrs:{model:e.articleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"公告标题",prop:"title"}},[r("el-input",{model:{value:e.articleForm.title,callback:function(t){e.$set(e.articleForm,"title",t)},expression:"articleForm.title"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"项目",prop:"projectId"}},[r("el-select",{attrs:{placeholder:"请选择项目"},model:{value:e.articleForm.projectId,callback:function(t){e.$set(e.articleForm,"projectId",t)},expression:"articleForm.projectId"}},e._l(e.projectsList,function(e){return r("el-option",{key:e.id,attrs:{label:e.projectName,value:e.id}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"公告内容",prop:"content"}},[r("el-input",{model:{value:e.articleForm.content,callback:function(t){e.$set(e.articleForm,"content",t)},expression:"articleForm.content"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"版本号",prop:"version"}},[r("el-input",{model:{value:e.articleForm.version,callback:function(t){e.$set(e.articleForm,"version",t)},expression:"articleForm.version"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"作者",prop:"author"}},[r("el-input",{model:{value:e.articleForm.author,callback:function(t){e.$set(e.articleForm,"author",t)},expression:"articleForm.author"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("articleForm")}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]};var l=r("/Xao")(s,c,!1,function(e){r("X44a")},"data-v-06020904",null);t.default=l.exports}});